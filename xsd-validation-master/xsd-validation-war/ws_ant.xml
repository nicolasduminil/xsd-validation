<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE project>
<project name="wasdeploy" basedir=".">

  <!-- Project properties -->
  <property name="name" value="xsd-validation-war" />
  <property name="build.dir" location="target" />

  <!-- was properties -->
  <property name="hostName" value="localhost" />
  <property name="connType" value="SOAP" />
  <property name="connPort" value="8880" />
  <property name="userId" value="nicolas" />
  <property name="password" value="California1" />
  <property name="wasHome.dir" value="C:/Program Files (x86)/IBM/WebSphere/AppServer" />
  <property name="node" value="cac40Node01" />
  <property name="server" value="server1" />

  <!-- Was Ant task definitions -->
  <taskdef name="wsStartApplication" classname="com.ibm.websphere.ant.tasks.StartApplication" />
  <taskdef name="wsStopApplication" classname="com.ibm.websphere.ant.tasks.StopApplication" />
  <taskdef name="wsStartServer" classname="com.ibm.websphere.ant.tasks.StartServer" />
  <taskdef name="wsStopServer" classname="com.ibm.websphere.ant.tasks.StopServer" />
  <taskdef name="wsInstallApp" classname="com.ibm.websphere.ant.tasks.InstallApplication" />
  <taskdef name="wsUninstallApp" classname="com.ibm.websphere.ant.tasks.UninstallApplication" />
  <taskdef name="wsListApps" classname="com.ibm.websphere.ant.tasks.ListApplications" />

  <target name="listApps">
    <wsListApps />
  </target>

  <target name="deploy" description="Deploy the war">
  	<echo message="*********** ${build.dir}/${name}.war"/>
    <wsInstallApp ear="${build.dir}/${name}.war" options="-appname ${name}" failonerror="true" wasHome="${wasHome.dir}" user="${userId}" password="${password}" profileName="AppSrv01" />
  </target>

  <target name="undeploy">
    <wsUninstallApp application="${name}" failonerror="false" user="${userId}" password="${password}" />
  </target>

  <target name="startApplication">
    <wsStartApplication application="${name}" wasHome="${wasHome.dir}" server="${server}" node="${node}" user="${userId}" password="${password}"/>
  </target>

  <target name="stopApplication">
    <wsStopApplication application="${name}" wasHome="${wasHome.dir}" server="${server}" node="${node}" user="${userId}" password="${password}"/>
  </target>

  <target name="update">
    <wsInstallApp ear="${build.dir}/${name}-qa.war" options="-appname ${name} -update" failonerror="true" />
  </target>

  <target name="startServer">
    <wsStartServer server="${server}" logFile="${build.dir}/start.log" trace="false" failonerror="false" />
  </target>

  <target name="stopServer">
    <wsStopServer server="${server}" logFile="${build.dir}/stop.log" trace="false" failonerror="false" />
  </target>

</project>